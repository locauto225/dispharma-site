@import "tailwindcss";

/* ==========================
   Variables globales
========================== */
:root {
  --background: #ffffff;
  --foreground: #171717;
  --font-sans: var(--font-geist-sans);
  --font-mono: var(--font-geist-mono);

  /* Surfaces (mode clair) */
  --bg-muted: #f6f8fc; /* sections alternées */
  --card: #ffffff; /* cartes/panneaux */
  --border: rgba(15, 23, 42, 0.08); /* séparateurs */
  --text-muted: #525252; /* gris lisible AA sur fond clair */

  /* Palette marque */
  --brand-50: #eef6ff;
  --brand-100: #d9ebff;
  --brand-600: #0b6dff;
  --brand-700: #0958cc;
  --brand-800: #0a3f88;
  --brand-900: #0b1f3a; /* bleu nuit référence */

  --header-link: #0a285f;
  --header-link-hover: #ea580c;
  --header-cta-bg: #ea580c;
  --header-cta-hover: #d64e0b;

  /* Transitions douces lors du switch */
  --x-transition: color 200ms ease, background-color 200ms ease, border-color 200ms ease;

  color-scheme: light;
}

/* ==========================
   Thème sombre (automatique)
========================== */
@media (prefers-color-scheme: dark) {
  :root {
    --background: #0b1f3a;
    --foreground: #e9eef8;
    --bg-muted: #102a52;
    --card: #0f274a;
    --border: #13325c;
    --text-muted: #d4def2;

    --header-link: #ff7a00;
    --header-link-hover: #ffb36b;
    --header-cta-bg: #0b6dff;
    --header-cta-hover: #0958cc;

    color-scheme: dark;
  }
}

/* ==========================
   Mode sombre via .dark
========================== */
.dark {
  --background: #0b1f3a;
  --foreground: #e9eef8;
  --bg-muted: #102a52;
  --card: #0f274a;
  --border: #13325c;
  --text-muted: #d4def2;

  color-scheme: dark;
}

/* ==========================
   Styles de base
========================== */
body {
  background: var(--background);
  color: var(--foreground);
  font-family: var(--font-sans), Arial, Helvetica, sans-serif;
  transition: var(--x-transition);
}

/* ==========================
   États focus accessibles
========================== */
@layer base {
  a:focus-visible,
  button:focus-visible,
  [role="button"]:focus-visible {
    outline: none;
    box-shadow:
      0 0 0 1px var(--background),
      0 0 0 3px rgba(11, 109, 255, 0.5);
    transition: var(--x-transition);
  }
}

:root.dark a:focus-visible,
.dark a:focus-visible,
:root.dark button:focus-visible,
.dark button:focus-visible,
:root.dark [role="button"]:focus-visible,
.dark [role="button"]:focus-visible {
  box-shadow:
    0 0 0 1px var(--background),
    0 0 0 3px rgba(9, 88, 204, 0.45);
}

/* ==========================
   Utilitaires personnalisés
========================== */
@layer utilities {
  .bg-app {
    background-color: var(--background);
  }
  .text-app {
    color: var(--foreground);
  }
  .bg-app-muted {
    background-color: var(--bg-muted);
  }
  .bg-card {
    background-color: var(--card);
  }
  .border-app {
    border-color: var(--border);
  }

  /* Helpers de texte */
  .text-app-muted {
    color: var(--text-muted);
  }

  /* Support de la classe utilisée dans le code: `text-app/70` */
  .text-app\/70 {
    color: color-mix(in srgb, var(--foreground) 70%, transparent);
  }

  /* Texte renforcé pour contenus importants en sombre */
  .text-strong {
    color: var(--foreground);
  }
}

/* ==========================
   Hover / Élévation cartes
========================== */
.hover-card {
  transition: transform 200ms ease, box-shadow 200ms ease, border-color 200ms ease,
    background-color 200ms ease;
  will-change: transform;
}
.hover-card:hover {
  transform: translateY(-2px);
  box-shadow: 0 8px 24px rgba(0, 0, 0, 0.08);
  border-color: color-mix(in srgb, var(--border) 30%, #ea580c 70%);
}
@media (prefers-color-scheme: dark) {
  .hover-card:hover {
    box-shadow: 0 10px 28px rgba(0, 0, 0, 0.35);
    border-color: color-mix(in srgb, var(--border) 45%, #f59e0b 55%);
  }
}

/* ==========================
   Header (liens & CTA)
========================== */
.header-link {
  color: var(--header-link);
  transition: var(--x-transition);
}
.header-link:hover {
  color: var(--header-link-hover);
}
.header-cta {
  background-color: var(--header-cta-bg);
  color: #fff;
  transition: var(--x-transition);
}
.header-cta:hover {
  background-color: var(--header-cta-hover);
}

/* ==========================
   Fixes pour auto-remplissage navigateur
========================== */
input:-webkit-autofill,
textarea:-webkit-autofill,
select:-webkit-autofill {
  -webkit-text-fill-color: var(--foreground) !important;
  caret-color: var(--foreground) !important;
  box-shadow: 0 0 0px 1000px var(--card) inset !important;
  transition: background-color 10000s ease-in-out 0s;
}

.dark input:-webkit-autofill,
.dark textarea:-webkit-autofill,
.dark select:-webkit-autofill {
  -webkit-text-fill-color: var(--foreground) !important;
  box-shadow: 0 0 0px 1000px var(--card) inset !important;
}

/* ==========================
   Séparateurs / sections
========================== */
.section-border {
  border-top-width: 1px;
  border-top-style: solid;
  border-top-color: color-mix(in srgb, var(--border) 22%, transparent);
  box-shadow: inset 0 1px 0 rgba(0, 0, 0, 0.03);
}
:root.dark .section-border,
.dark .section-border {
  border-top-color: color-mix(in srgb, var(--border) 55%, #ffffff 20%);
  box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.04);
}